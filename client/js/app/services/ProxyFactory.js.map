{"version":3,"file":"ProxyFactory.js","names":["ProxyFactory","Error","objeto","props","acao","Proxy","get","target","prop","receiver","includes","retorno","Reflect","apply","arguments","set","value","func","Function"],"sources":["../../app-es6/services/ProxyFactory.js"],"sourcesContent":["export class ProxyFactory {\r\n    constructor() {\r\n        throw new Error('Você não pode criar uma instância dessa classe');\r\n    }\r\n\r\n    static create(objeto, props, acao) {\r\n        return new Proxy(objeto, {\r\n            get(target, prop, receiver) {\r\n                if (props.includes(prop) && ProxyFactory.#ehFuncao(target[prop])) {\r\n                    return function () {\r\n                        let retorno = Reflect.apply(target[prop], target, arguments);\r\n                        acao(target);\r\n                        return retorno;\r\n                    }\r\n                }\r\n                return Reflect.get(target, prop, receiver);\r\n            },\r\n\r\n            set(target, prop, value, receiver) {\r\n                let retorno = Reflect.set(target, prop, value, receiver);\r\n                if (props.includes(prop)) acao(target);    // só executa acao(target) se for uma propriedade monitorada\r\n                return retorno;\r\n            }\r\n        });\r\n    }\r\n\r\n    static #ehFuncao(func) {\r\n        return typeof (func) === typeof (Function);\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;IAAaA,Y;EACT,wBAAc;IAAA;;IACV,MAAM,IAAIC,KAAJ,CAAU,gDAAV,CAAN;EACH;;;;WAED,gBAAcC,MAAd,EAAsBC,KAAtB,EAA6BC,IAA7B,EAAmC;MAC/B,OAAO,IAAIC,KAAJ,CAAUH,MAAV,EAAkB;QACrBI,GADqB,eACjBC,MADiB,EACTC,IADS,EACHC,QADG,EACO;UACxB,IAAIN,KAAK,CAACO,QAAN,CAAeF,IAAf,kCAAwBR,YAAxB,EARPA,YAQO,kBAAwBA,YAAxB,EAA+CO,MAAM,CAACC,IAAD,CAArD,CAAJ,EAAkE;YAC9D,OAAO,YAAY;cACf,IAAIG,OAAO,GAAGC,OAAO,CAACC,KAAR,CAAcN,MAAM,CAACC,IAAD,CAApB,EAA4BD,MAA5B,EAAoCO,SAApC,CAAd;cACAV,IAAI,CAACG,MAAD,CAAJ;cACA,OAAOI,OAAP;YACH,CAJD;UAKH;;UACD,OAAOC,OAAO,CAACN,GAAR,CAAYC,MAAZ,EAAoBC,IAApB,EAA0BC,QAA1B,CAAP;QACH,CAVoB;QAYrBM,GAZqB,eAYjBR,MAZiB,EAYTC,IAZS,EAYHQ,KAZG,EAYIP,QAZJ,EAYc;UAC/B,IAAIE,OAAO,GAAGC,OAAO,CAACG,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0BQ,KAA1B,EAAiCP,QAAjC,CAAd;UACA,IAAIN,KAAK,CAACO,QAAN,CAAeF,IAAf,CAAJ,EAA0BJ,IAAI,CAACG,MAAD,CAAJ,CAFK,CAEY;;UAC3C,OAAOI,OAAP;QACH;MAhBoB,CAAlB,CAAP;IAkBH;;;;;;;;mBAEgBM,I,EAAM;EACnB,OAAO,QAAQA,IAAR,cAA0BC,QAA1B,yCAA0BA,QAA1B,EAAP;AACH"}